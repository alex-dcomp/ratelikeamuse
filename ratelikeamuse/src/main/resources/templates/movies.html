<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Filmes - RateLikeAMuse</title>
<link rel="stylesheet" href="style.css" />
</head>
<body class="black-background">
  <a href="profile.html" class="perfil-btn">Meu Perfil</a>
  <div class="logo-wrapper">
    <img src="logo2.png" alt="Logo RateLikeAMuse" class="responsive-logo" />
  </div>

  <div class="container">
    <h1 class="title">Filmes</h1>
    <div class="card-list">

      <!-- Card com Filmes -->
      <div class="movie-card" data-title="Anora">
        <div class="card-header">
          <h3>Anora</h3>
          <span class="year">2024</span>
        </div>
        <div class="card-body">
          <div class="text-content">
            <p class="genre">Ação, Aventura</p>
            <div class="rating-display" data-current-rating="3">
              <span class="star filled">&#9733;</span>
              <span class="star filled">&#9733;</span>
              <span class="star filled">&#9733;</span>
              <span class="star">&#9733;</span>
              <span class="star">&#9733;</span>
            </div>
            <button class="rate-btn">Avaliar</button>
          </div>
          <img src="poster-movies/Anora.jpg" alt="Capa do filme Anora" class="movie-poster">
        </div>
      </div>

      <div class="movie-card" data-title="The Brutalist">
        <div class="card-header">
          <h3>The Brutalist</h3>
          <span class="year">2024</span>
        </div>
        <div class="card-body">
          <div class="text-content">
            <p class="genre">Drama/História</p>
            <div class="rating-display" data-current-rating="0">
              <span class="star" data-value="1">★</span>
              <span class="star" data-value="2">★</span>
              <span class="star" data-value="3">★</span>
              <span class="star" data-value="4">★</span>
              <span class="star" data-value="5">★</span>
            </div>
            <button class="rate-btn">Avaliar</button>
          </div>
          <img src="poster-movies/brutalist.jpg" alt="Capa do filme The Brutalist" class="movie-poster">
        </div>
      </div>

      <div class="movie-card" data-title="A Complete Unknown">
        <div class="card-header">
          <h3>A Complete Unknown</h3>
          <span class="year">2024</span>
        </div>
          <div class="card-body">
            <div class="text-content">
              <p class="genre">Musical/Drama</p>
                <div class="rating-display" data-current-rating="0">
                  <span class="star" data-value="1">★</span>
                  <span class="star" data-value="2">★</span>
                  <span class="star" data-value="3">★</span>
                  <span class="star" data-value="4">★</span>
                  <span class="star" data-value="5">★</span>
                </div>
            <button class="rate-btn">Avaliar</button>
            </div>
            <img src="poster-movies/a-complete-unknown.jpg" alt="Capa do filme A Complete Unknown" class="movie-poster">
          </div>
      </div>

      <div class="movie-card" data-title="Conclave">
        <div class="card-header">
          <h3>Conclave</h3>
          <span class="year">2024</span>
        </div>
          <div class="card-body">
            <div class="text-content">
              <p class="genre">Suspense/Drama</p>
                <div class="rating-display" data-current-rating="0">
                  <span class="star" data-value="1">★</span>
                  <span class="star" data-value="2">★</span>
                  <span class="star" data-value="3">★</span>
                  <span class="star" data-value="4">★</span>
                  <span class="star" data-value="5">★</span>
                </div>
            <button class="rate-btn">Avaliar</button>
            </div>
            <img src="poster-movies/conclave.jpg" alt="Capa do filme Conclave" class="movie-poster">
          </div>
      </div>
      
      <div class="movie-card" data-title="Dune: A part Two">
        <div class="card-header">
          <h3>Dune:A part Two</h3>
          <span class="year">2024</span>
        </div>
          <div class="card-body">
            <div class="text-content">
              <p class="genre">Ficção Científica/Ação</p>
                <div class="rating-display" data-current-rating="0">
                  <span class="star" data-value="1">★</span>
                  <span class="star" data-value="2">★</span>
                  <span class="star" data-value="3">★</span>
                  <span class="star" data-value="4">★</span>
                  <span class="star" data-value="5">★</span>
                </div>
            <button class="rate-btn">Avaliar</button>
            </div>
            <img src="poster-movies/duna-part2.jpg" alt="Capa do filme Dune: A Part Two" class="movie-poster">
          </div>
      </div>

      <div class="movie-card" data-title="Emilia Perez">
        <div class="card-header">
          <h3>Emilia Pérez</h3>
          <span class="year">2024</span>
        </div>
          <div class="card-body">
            <div class="text-content">
              <p class="genre">Musical/Comédia</p>
                <div class="rating-display" data-current-rating="0">
                  <span class="star" data-value="1">★</span>
                  <span class="star" data-value="2">★</span>
                  <span class="star" data-value="3">★</span>
                  <span class="star" data-value="4">★</span>
                  <span class="star" data-value="5">★</span>
                </div>
            <button class="rate-btn">Avaliar</button>
            </div>
            <img src="poster-movies/emilia-perez.jpg" alt="Capa do filme Emilia Perez" class="movie-poster">
          </div>
      </div>
       <div class="movie-card" data-title="Im Sill Here">
        <div class="card-header">
          <h3>I'm Still Here</h3>
          <span class="year">2024</span>
        </div>
          <div class="card-body">
            <div class="text-content">
              <p class="genre">Drama</p>
                <div class="rating-display" data-current-rating="0">
                  <span class="star" data-value="1">★</span>
                  <span class="star" data-value="2">★</span>
                  <span class="star" data-value="3">★</span>
                  <span class="star" data-value="4">★</span>
                  <span class="star" data-value="5">★</span>
                </div>
            <button class="rate-btn">Avaliar</button>
            </div>
            <img src="poster-movies/ainda-estou-aqui.jpeg" alt="Capa do filme Ainda Estou Aqui" class="movie-poster">
          </div>
      </div>

       <div class="movie-card" data-title="Nickel Boys">
        <div class="card-header">
          <h3>Nickel Boys</h3>
          <span class="year">2024</span>
        </div>
          <div class="card-body">
            <div class="text-content">
              <p class="genre">Drama/História</p>
                <div class="rating-display" data-current-rating="0">
                  <span class="star" data-value="1">★</span>
                  <span class="star" data-value="2">★</span>
                  <span class="star" data-value="3">★</span>
                  <span class="star" data-value="4">★</span>
                  <span class="star" data-value="5">★</span>
                </div>
            <button class="rate-btn">Avaliar</button>
            </div>
            <img src="poster-movies/nickel-boys.jpg" alt="Capa do filme Nickel Boys" class="movie-poster">
          </div>
      </div>

       <div class="movie-card" data-title="The Substance">
        <div class="card-header">
          <h3>The Substance</h3>
          <span class="year">2024</span>
        </div>
          <div class="card-body">
            <div class="text-content">
              <p class="genre">Terror Corporal/Suspense</p>
                <div class="rating-display" data-current-rating="0">
                  <span class="star" data-value="1">★</span>
                  <span class="star" data-value="2">★</span>
                  <span class="star" data-value="3">★</span>
                  <span class="star" data-value="4">★</span>
                  <span class="star" data-value="5">★</span>
                </div>
            <button class="rate-btn">Avaliar</button>
            </div>
            <img src="poster-movies/The-Substance.jpg" alt="Capa do filme The Substance" class="movie-poster">
          </div>
      </div>

       <div class="movie-card" data-title="Wicked">
        <div class="card-header">
          <h3>Wicked</h3>
          <span class="year">2024</span>
        </div>
          <div class="card-body">
            <div class="text-content">
              <p class="genre">Musical/Fantasia</p>
                <div class="rating-display" data-current-rating="0">
                  <span class="star" data-value="1">★</span>
                  <span class="star" data-value="2">★</span>
                  <span class="star" data-value="3">★</span>
                  <span class="star" data-value="4">★</span>
                  <span class="star" data-value="5">★</span>
                </div>
            <button class="rate-btn">Avaliar</button>
            </div>
            <img src="poster-movies/wicked.jpg" alt="Capa do filme Wicked" class="movie-poster">
          </div>
      </div>

       <div class="movie-card" data-title="Sing Sing">
        <div class="card-header">
          <h3>Sing Sing</h3>
          <span class="year">2024</span>
        </div>
          <div class="card-body">
            <div class="text-content">
              <p class="genre">Drama/Prisão</p>
                <div class="rating-display" data-current-rating="0">
                  <span class="star" data-value="1">★</span>
                  <span class="star" data-value="2">★</span>
                  <span class="star" data-value="3">★</span>
                  <span class="star" data-value="4">★</span>
                  <span class="star" data-value="5">★</span>
                </div>
            <button class="rate-btn">Avaliar</button>
            </div>
            <img src="poster-movies/Sing-Sing.jpg" alt="Capa do filme Sing Sing" class="movie-poster">
          </div>
      </div>

       <div class="movie-card" data-title="The Apprentice">
        <div class="card-header">
          <h3>The Apprentice</h3>
          <span class="year">2024</span>
        </div>
          <div class="card-body">
            <div class="text-content">
              <p class="genre">Cinebiografia/Drama</p>
                <div class="rating-display" data-current-rating="0">
                  <span class="star" data-value="1">★</span>
                  <span class="star" data-value="2">★</span>
                  <span class="star" data-value="3">★</span>
                  <span class="star" data-value="4">★</span>
                  <span class="star" data-value="5">★</span>
                </div>
            <button class="rate-btn">Avaliar</button>
            </div>
            <img src="poster-movies/the-apprentice.jpg" alt="Capa do filme The Apprentice" class="movie-poster">
          </div>
      </div>

       <div class="movie-card" data-title="A Real Pain">
        <div class="card-header">
          <h3>A Real Pain</h3>
          <span class="year">2024</span>
        </div>
          <div class="card-body">
            <div class="text-content">
              <p class="genre">Drama/Comédia</p>
                <div class="rating-display" data-current-rating="0">
                  <span class="star" data-value="1">★</span>
                  <span class="star" data-value="2">★</span>
                  <span class="star" data-value="3">★</span>
                  <span class="star" data-value="4">★</span>
                  <span class="star" data-value="5">★</span>
                </div>
            <button class="rate-btn">Avaliar</button>
            </div>
            <img src="poster-movies/a-real-pain.jpg" alt="Capa do filme A real Pain" class="movie-poster">
          </div>
      </div>

       <div class="movie-card" data-title="September 5">
        <div class="card-header">
          <h3>September 5</h3>
          <span class="year">2024</span>
        </div>
          <div class="card-body">
            <div class="text-content">
              <p class="genre">Drama/História</p>
                <div class="rating-display" data-current-rating="0">
                  <span class="star" data-value="1">★</span>
                  <span class="star" data-value="2">★</span>
                  <span class="star" data-value="3">★</span>
                  <span class="star" data-value="4">★</span>
                  <span class="star" data-value="5">★</span>
                </div>
            <button class="rate-btn">Avaliar</button>
            </div>
            <img src="poster-movies/september-5.jpg" alt="Capa do filme September 5" class="movie-poster">
          </div>
      </div>

  <script>
      // Função para capturar o rating das estrelas
      document.querySelectorAll('.rating-display').forEach(display => {
        const stars = display.querySelectorAll('.star');
        stars.forEach(star => {
          star.addEventListener('click', () => {
            const rating = parseInt(star.dataset.value);
            display.dataset.currentRating = rating;

            stars.forEach(s => {
              s.classList.toggle('filled', parseInt(s.dataset.value) <= rating);
            });
          });
        });
      });

    // Avaliar e salvar no localStorage
    document.querySelectorAll('.rate-btn').forEach(button => {
      button.addEventListener('click', () => {
        const card = button.closest('.movie-card');
        const titulo = card.dataset.title;
        const rating = parseInt(card.querySelector('.rating-display').dataset.currentRating);
        const usuario = localStorage.getItem('usuarioLogado');

        if (!usuario) {
          alert("Você precisa estar logado para avaliar.");
          return;
        }

        if (!rating || rating < 1 || rating > 5) {
          alert("Por favor, selecione uma nota entre 1 e 5 estrelas.");
          return;
        }

        const avaliacoes = JSON.parse(localStorage.getItem('avaliacoes')) || {};
        if (!avaliacoes[usuario]) {
          avaliacoes[usuario] = {};
        }

        avaliacoes[usuario][titulo] = rating;
        localStorage.setItem('avaliacoes', JSON.stringify(avaliacoes));
        alert(`Você avaliou "${titulo}" com ${rating} estrela(s)!`);
      });
    });
  </script>
</body>
</html>
